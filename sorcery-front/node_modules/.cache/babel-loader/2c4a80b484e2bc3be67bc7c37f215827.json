{"remainingRequest":"/Users/lvjing/sorcery/sorcery-front/node_modules/babel-loader/lib/index.js!/Users/lvjing/sorcery/sorcery-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lvjing/sorcery/sorcery-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/sorcery/sorcery-front/src/components/Jenkins/jenkinsTaskDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvjing/sorcery/sorcery-front/src/components/Jenkins/jenkinsTaskDialog.vue","mtime":1684395391793},{"path":"/Users/lvjing/sorcery/sorcery-front/babel.config.js","mtime":1658125707026},{"path":"/Users/lvjing/sorcery/sorcery-front/node_modules/cache-loader/dist/cjs.js","mtime":1658126181624},{"path":"/Users/lvjing/sorcery/sorcery-front/node_modules/babel-loader/lib/index.js","mtime":1658126183216},{"path":"/Users/lvjing/sorcery/sorcery-front/node_modules/cache-loader/dist/cjs.js","mtime":1658126181624},{"path":"/Users/lvjing/sorcery/sorcery-front/node_modules/vue-loader/lib/index.js","mtime":1658126185454}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2x2amluZy9zb3JjZXJ5L3NvcmNlcnktZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbHZqaW5nL3NvcmNlcnkvc29yY2VyeS1mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0SmVua2luc0luZm9BbGwsIGdldEplbmtpbnNUYXNrSW5mb0J5SWQsIGNyZWF0ZUplbmtpbnNUYXNrSW5mbywgdXBkYXRlSmVua2luc1Rhc2tJbmZvIH0gZnJvbSAnQC9hcGkvamVua2lucyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUG9yamVjdERpYWxvZycsCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IHsKICAgIHRpdGxlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHBpZDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2dWaXNpYmxlOiB0cnVlLAogICAgICBzaG93VGl0bGU6ICcnLAogICAgICBqZW5raW5zSW5mb1ZhbHVlOiAnJywKICAgICAgamVua2luc0luZm9MYWJlbDogJycsCiAgICAgIGplbmtpbnNJbmZvT3B0aW9uOiBbXSwKICAgICAgamVua2luc1Rhc2tGb3JtOiB7CiAgICAgICAgamVua2luc0lkOiAnJywKICAgICAgICBqZW5raW5zSm9iTmFtZTogJycsCiAgICAgICAgamVua2luc1Rhc2tOYW1lOiAnJywKICAgICAgICBjb21tYW5kOiAnJywKICAgICAgICByZW1hcms6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgamVua2luc0lkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oupSmVua2luc+S7u+WKoScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBqZW5raW5zVGFza05hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaVKZW5raW5z5ZCN56ewJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGplbmtpbnNKb2JOYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWlSmVua2luc+WfuuehgOWcsOWdgCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBjb21tYW5kOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWlSmVua2lucyBKb2Lku7vliqHmiafooYzlkb3ku6QnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgZmlsZUxpc3Q6IFtdLAogICAgICAvLyDnjrDmnInlm77niYfliJfooagKICAgICAgaW1hZ2VVcmw6ICcnLAogICAgICAvLyDlm77niYfot6/lvoQKICAgICAgaW1hZ2VWaXNpYmxlOiBmYWxzZSwKICAgICAgZGlzYWJsZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLnRpdGxlID09PSAnY3JlYXRlJykgewogICAgICB0aGlzLnNob3dUaXRsZSA9ICfliJvlu7pKZW5raW5z5Lu75Yqh5L+h5oGvJzsKICAgICAgdGhpcy5pbml0SmVua2luc0luZm9BbGxMaXN0KCk7CiAgICB9IGVsc2UgaWYgKHRoaXMudGl0bGUgPT09ICdkZXRhaWwnKSB7CiAgICAgIHRoaXMuc2hvd1RpdGxlID0gJ0plbmtpbnPku7vliqHor6bmg4UnOwogICAgICB0aGlzLmluaXRKZW5raW5zVGFza0luZm9EZXRhaWwoKTsKICAgIH0gZWxzZSBpZiAodGhpcy50aXRsZSA9PT0gJ2VkaXQnKSB7CiAgICAgIHRoaXMuc2hvd1RpdGxlID0gJ+e8lui+kUplbmtpbnPku7vliqHkv6Hmga8nOwogICAgICB0aGlzLmluaXRKZW5raW5zVGFza0luZm9EZXRhaWwoKTsKICAgICAgdGhpcy5pbml0SmVua2luc0luZm9BbGxMaXN0KCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0SmVua2luc0luZm9BbGxMaXN0OiBmdW5jdGlvbiBpbml0SmVua2luc0luZm9BbGxMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcCwgaTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRKZW5raW5zSW5mb0FsbCgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzcC5jb2RlID09PSAnMDAwMDAnKSB7CiAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByZXNwLmRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5qZW5raW5zSW5mb09wdGlvbi5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXNwLmRhdGFbaV0uaWQsCiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogcmVzcC5kYXRhW2ldLmplbmtpbnNOYW1lCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0gLy8gdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmn6Xor6LmiJDlip/vvIEiKQoKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCfmn6Xor6LlpLHotKXvvIEnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOS/ruaUuemAieS4rUplbmtpbnPku7vliqEKICAgIGNoYW5nZUplbmtpbnM6IGZ1bmN0aW9uIGNoYW5nZUplbmtpbnModmFsdWUpIHsKICAgICAgdGhpcy5qZW5raW5zSW5mb1ZhbHVlID0gdmFsdWU7CiAgICAgIHRoaXMuamVua2luc0luZm9MYWJlbCA9IHRoaXMuamVua2luc0luZm9PcHRpb24uZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnZhbHVlID09PSB2YWx1ZTsKICAgICAgfSkubGFiZWw7CiAgICAgIHRoaXMuamVua2luc1Rhc2tGb3JtLmplbmtpbnNJZCA9IHZhbHVlOwogICAgfSwKICAgIC8vIOWIm+W7ukplbmtpbnPku7vliqEKICAgIHN1Ym1pdEplbmtpbnNUYXNrOiBmdW5jdGlvbiBzdWJtaXRKZW5raW5zVGFzayhmb3JtTmFtZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKF90aGlzMi50aXRsZSA9PT0gJ2NyZWF0ZScpIHsKICAgICAgICAgICAgY3JlYXRlSmVua2luc1Rhc2tJbmZvKF90aGlzMi5qZW5raW5zVGFza0Zvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgICAgICAvLyBjb2Rl77yaJzAwMDAwJ+ihqOekuuaIkOWKnwogICAgICAgICAgICAgIGlmIChyZXNwLmNvZGUgPT09ICcwMDAwMCcpIHsKICAgICAgICAgICAgICAgIC8vIOWIm+W7uuaIkOWKn++8jOWFs+mXreW8ueeqlwogICAgICAgICAgICAgICAgX3RoaXMyLmNsb3NlRGlhbG9nKCk7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoJ0plbmtpbnPku7vliqHkv6Hmga/liJvlu7rmiJDlip8hJyk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcihyZXNwLm1zZyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLnRpdGxlID09PSAnZWRpdCcpIHsKICAgICAgICAgICAgdXBkYXRlSmVua2luc1Rhc2tJbmZvKF90aGlzMi5waWQsIF90aGlzMi5qZW5raW5zVGFza0Zvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgICAgICBpZiAocmVzcC5jb2RlID09PSAnMDAwMDAnKSB7CiAgICAgICAgICAgICAgICBfdGhpczIuY2xvc2VEaWFsb2coKTsKCiAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2VzcygnSmVua2luc+S7u+WKoeS/oeaBr+e8lui+keaIkOWKnyEnKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKHJlc3AuZXJyb3IuZGF0YSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5qC55o2u6aG555uuSWTmn6Xor6Lpobnnm67or6bmg4UKICAgIGluaXRKZW5raW5zVGFza0luZm9EZXRhaWw6IGZ1bmN0aW9uIGluaXRKZW5raW5zVGFza0luZm9EZXRhaWwoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc3A7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRKZW5raW5zVGFza0luZm9CeUlkKF90aGlzMy5waWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gJzAwMDAwJykgewogICAgICAgICAgICAgICAgICBfdGhpczMuamVua2luc1Rhc2tGb3JtID0gcmVzcC5kYXRhOwoKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLnN1Y2Nlc3MoJ0plbmtpbnPku7vliqHkv6Hmga/or6bmg4XmiJDlip8hJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UuZXJyb3IoJ0plbmtpbnPku7vliqHkv6Hmga/or6bmg4XlpLHotKUhJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWFs+mXree7hOS7tgogICAgY2xvc2VEaWFsb2c6IGZ1bmN0aW9uIGNsb3NlRGlhbG9nKCkgewogICAgICB0aGlzLiRlbWl0KCdjYW5jZWwnLCB7fSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AAEA;EACAA,qBADA;EAEAC,cAFA;EAGAC;IACAC;MACAC,YADA;MAEAC;IAFA,CADA;IAKAC;MACAF,YADA;MAEAC;IAFA;EALA,CAHA;EAaAE,IAbA,kBAaA;IACA;MACAC,mBADA;MAEAC,aAFA;MAGAC,oBAHA;MAIAC,oBAJA;MAKAC,qBALA;MAMAC;QACAC,aADA;QAEAC,kBAFA;QAGAC,mBAHA;QAIAC,WAJA;QAKAC;MALA,CANA;MAaAC;QACAL,YACA;UAAAM;UAAAC;UAAAC;QAAA,CADA,CADA;QAIAN,kBACA;UAAAI;UAAAC;UAAAC;QAAA,CADA,CAJA;QAOAP,iBACA;UAAAK;UAAAC;UAAAC;QAAA,CADA,CAPA;QAUAL,UACA;UAAAG;UAAAC;UAAAC;QAAA,CADA;MAVA,CAbA;MA2BAC,YA3BA;MA2BA;MACAC,YA5BA;MA4BA;MACAC,mBA7BA;MA8BAC;IA9BA;EAgCA,CA9CA;EA+CAC,OA/CA,qBA+CA;IACA;MACA;MACA;IACA,CAHA,MAGA;MACA;MACA;IACA,CAHA,MAGA;MACA;MACA;MACA;IACA;EACA,CA3DA;EA4DAC;IACAC,sBADA,oCACA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAC,mBADA;;cAAA;gBACAC,IADA;;gBAEA;kBACA;oBACA;sBACAC,sBADA;sBAEAC;oBAFA;kBAIA,CANA,CAOA;;gBACA,CARA,MAQA;kBACA;gBACA;;cAZA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAaA,CAdA;IAeA;IACAC,aAhBA,yBAgBAF,KAhBA,EAgBA;MACA;MACA,oDACA;QAAA;MAAA,CADA,EAEAC,KAFA;MAGA;IACA,CAtBA;IAuBA;IACAE,iBAxBA,6BAwBAC,QAxBA,EAwBA;MAAA;;MACA;QACA;UACA;YACAC;cACA;cACA;gBACA;gBACA;;gBACA;cACA,CAJA,MAIA;gBACA;cACA;YACA,CATA;UAUA,CAXA,MAWA;YACAC;cACA;gBACA;;gBACA;cACA,CAHA,MAGA;gBACA;cACA;YACA,CAPA;UAQA;QACA,CAtBA,MAsBA;UACA;QACA;MACA,CA1BA;IA2BA,CApDA;IAqDA;IACAC,yBAtDA,uCAsDA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAC,kCADA;;cAAA;gBACAT,IADA;;gBAEA;kBACA;;kBACA;gBACA,CAHA,MAGA;kBACA;gBACA;;cAPA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAQA,CA9DA;IA+DA;IACAU,WAhEA,yBAgEA;MACA;IACA;EAlEA;AA5DA","names":["name","components","props","title","type","default","pid","data","dialogVisible","showTitle","jenkinsInfoValue","jenkinsInfoLabel","jenkinsInfoOption","jenkinsTaskForm","jenkinsId","jenkinsJobName","jenkinsTaskName","command","remark","rules","required","message","trigger","fileList","imageUrl","imageVisible","disabled","mounted","methods","initJenkinsInfoAllList","getJenkinsInfoAll","resp","value","label","changeJenkins","submitJenkinsTask","formName","createJenkinsTaskInfo","updateJenkinsTaskInfo","initJenkinsTaskInfoDetail","getJenkinsTaskInfoById","closeDialog"],"sourceRoot":"src/components/Jenkins","sources":["jenkinsTaskDialog.vue"],"sourcesContent":["<template>\n  <el-dialog\n    :title=\"showTitle\"\n    :visible.sync=\"dialogVisible\"\n    width=\"800px\"\n    :before-close=\"closeDialog\"\n  >\n    <el-form\n      v-if=\"title == 'detail'\"\n      :model=\"jenkinsTaskForm\"\n      label-width=\"auto\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item label=\"Jenkins名称:\" prop=\"jenkinsId\">{{ jenkinsTaskForm.jenkinsId }}</el-form-item>\n      <el-form-item label=\"Jenkins任务名称:\" prop=\"jenkinsTaskName\">{{ jenkinsTaskForm.jenkinsTaskName }}</el-form-item>\n      <el-form-item label=\"Jenkins Job名称:\" prop=\"jenkinsJobName\">{{ jenkinsTaskForm.jenkinsJobName }}</el-form-item>\n      <el-form-item label=\"command:\" prop=\"command\">{{ jenkinsTaskForm.command }}</el-form-item>\n      <el-form-item type=\"textarea\" label=\"备注:\">{{ jenkinsTaskForm.remark }}</el-form-item>\n      <el-form-item style=\"text-align: right\">\n        <el-button @click=\"closeDialog\">返回</el-button>\n      </el-form-item>\n    </el-form>\n    <el-form\n      v-if=\"title != 'detail'\"\n      ref=\"ruleForm\"\n      :model=\"jenkinsTaskForm\"\n      :rules=\"rules\"\n      label-width=\"auto\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item label=\"Jenkins名称\" prop=\"jenkinsId\">\n        <el-select\n          v-model=\"jenkinsTaskForm.jenkinsId\"\n          placeholder=\"请选择Jenkins\"\n          @change=\"changeJenkins\"\n        >\n          <el-option\n            v-for=\"item in jenkinsInfoOption\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          />\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"Jenkins任务名称:\" prop=\"jenkinsTaskName\">\n        <el-input v-model=\"jenkinsTaskForm.jenkinsTaskName\" />\n      </el-form-item>\n      <el-form-item label=\"Jenkins Job名称:\" prop=\"jenkinsJobName\">\n        <el-input v-model=\"jenkinsTaskForm.jenkinsJobName\" />\n      </el-form-item>\n      <el-form-item label=\"command:\" prop=\"command\">\n        <el-input v-model=\"jenkinsTaskForm.command\" />\n      </el-form-item>\n      <el-form-item label=\"备注\" prop=\"remark\">\n        <el-input v-model=\"jenkinsTaskForm.remark\" type=\"textarea\" />\n      </el-form-item>\n      <el-form-item style=\"text-align: right\">\n        <el-button @click=\"closeDialog\">取消</el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"submitJenkinsTask('ruleForm')\"\n        >确定</el-button>\n      </el-form-item>\n    </el-form>\n  </el-dialog>\n</template>\n\n<script>\nimport { getJenkinsInfoAll, getJenkinsTaskInfoById, createJenkinsTaskInfo, updateJenkinsTaskInfo } from '@/api/jenkins'\n\nexport default ({\n  name: 'PorjectDialog',\n  components: {},\n  props: {\n    title: {\n      type: String,\n      default: null\n    },\n    pid: {\n      type: Number,\n      default: 1\n    }\n  },\n  data() {\n    return {\n      dialogVisible: true,\n      showTitle: '',\n      jenkinsInfoValue: '',\n      jenkinsInfoLabel: '',\n      jenkinsInfoOption: [],\n      jenkinsTaskForm: {\n        jenkinsId: '',\n        jenkinsJobName: '',\n        jenkinsTaskName: '',\n        command: '',\n        remark: ''\n      },\n      rules: {\n        jenkinsId: [\n          { required: true, message: '请选择Jenkins任务', trigger: 'blur' }\n        ],\n        jenkinsTaskName: [\n          { required: true, message: '请输入Jenkins名称', trigger: 'blur' }\n        ],\n        jenkinsJobName: [\n          { required: true, message: '请输入Jenkins基础地址', trigger: 'blur' }\n        ],\n        command: [\n          { required: true, message: '请输入Jenkins Job任务执行命令', trigger: 'blur' }\n        ]\n      },\n      fileList: [], // 现有图片列表\n      imageUrl: '', // 图片路径\n      imageVisible: false,\n      disabled: false\n    }\n  },\n  mounted() {\n    if (this.title === 'create') {\n      this.showTitle = '创建Jenkins任务信息'\n      this.initJenkinsInfoAllList()\n    } else if (this.title === 'detail') {\n      this.showTitle = 'Jenkins任务详情'\n      this.initJenkinsTaskInfoDetail()\n    } else if (this.title === 'edit') {\n      this.showTitle = '编辑Jenkins任务信息'\n      this.initJenkinsTaskInfoDetail()\n      this.initJenkinsInfoAllList()\n    }\n  },\n  methods: {\n    async initJenkinsInfoAllList() {\n      const resp = await getJenkinsInfoAll()\n      if (resp.code === '00000') {\n        for (let i = 0; i < resp.data.length; i++) {\n          this.jenkinsInfoOption.push({\n            value: resp.data[i].id,\n            label: resp.data[i].jenkinsName\n          })\n        }\n        // this.$message.success(\"查询成功！\")\n      } else {\n        this.$message.error('查询失败！')\n      }\n    },\n    // 修改选中Jenkins任务\n    changeJenkins(value) {\n      this.jenkinsInfoValue = value\n      this.jenkinsInfoLabel = this.jenkinsInfoOption.find(\n        (item) => item.value === value\n      ).label\n      this.jenkinsTaskForm.jenkinsId = value\n    },\n    // 创建Jenkins任务\n    submitJenkinsTask(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          if (this.title === 'create') {\n            createJenkinsTaskInfo(this.jenkinsTaskForm).then((resp) => {\n              // code：'00000'表示成功\n              if (resp.code === '00000') {\n                // 创建成功，关闭弹窗\n                this.closeDialog()\n                this.$message.success('Jenkins任务信息创建成功!')\n              } else {\n                this.$message.error(resp.msg)\n              }\n            })\n          } else if (this.title === 'edit') {\n            updateJenkinsTaskInfo(this.pid, this.jenkinsTaskForm).then((resp) => {\n              if (resp.code === '00000') {\n                this.closeDialog()\n                this.$message.success('Jenkins任务信息编辑成功!')\n              } else {\n                this.$message.error(resp.error.data)\n              }\n            })\n          }\n        } else {\n          return false\n        }\n      })\n    },\n    // 根据项目Id查询项目详情\n    async initJenkinsTaskInfoDetail() {\n      const resp = await getJenkinsTaskInfoById(this.pid)\n      if (resp.code === '00000') {\n        this.jenkinsTaskForm = resp.data\n        this.$message.success('Jenkins任务信息详情成功!')\n      } else {\n        this.$message.error('Jenkins任务信息详情失败!')\n      }\n    },\n    // 关闭组件\n    closeDialog() {\n      this.$emit('cancel', {})\n    }\n  }\n})\n</script>\n"]}]}