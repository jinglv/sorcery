{"remainingRequest":"/Users/lvjing/sorcery/sorcery-front/node_modules/babel-loader/lib/index.js!/Users/lvjing/sorcery/sorcery-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lvjing/sorcery/sorcery-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/sorcery/sorcery-front/src/components/Jenkins/jenkinsDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvjing/sorcery/sorcery-front/src/components/Jenkins/jenkinsDialog.vue","mtime":1684311874483},{"path":"/Users/lvjing/sorcery/sorcery-front/babel.config.js","mtime":1658125707026},{"path":"/Users/lvjing/sorcery/sorcery-front/node_modules/cache-loader/dist/cjs.js","mtime":1658126181624},{"path":"/Users/lvjing/sorcery/sorcery-front/node_modules/babel-loader/lib/index.js","mtime":1658126183216},{"path":"/Users/lvjing/sorcery/sorcery-front/node_modules/cache-loader/dist/cjs.js","mtime":1658126181624},{"path":"/Users/lvjing/sorcery/sorcery-front/node_modules/vue-loader/lib/index.js","mtime":1658126185454}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2x2amluZy9zb3JjZXJ5L3NvcmNlcnktZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbHZqaW5nL3NvcmNlcnkvc29yY2VyeS1mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldEplbmtpbnNJbmZvQnlJZCwgY3JlYXRlSmVua2luc0luZm8sIHVwZGF0ZUplbmtpbnNJbmZvIH0gZnJvbSAnQC9hcGkvamVua2lucyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUG9yamVjdERpYWxvZycsCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IHsKICAgIHRpdGxlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHBpZDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2dWaXNpYmxlOiB0cnVlLAogICAgICBzaG93VGl0bGU6ICcnLAogICAgICBqZW5raW5zRm9ybTogewogICAgICAgIGplbmtpbnNOYW1lOiAnJywKICAgICAgICBqZW5raW5zVXNlcm5hbWU6ICcnLAogICAgICAgIGplbmtpbnNQYXNzd29yZDogJycsCiAgICAgICAgamVua2luc1VybDogJycsCiAgICAgICAgcmVtYXJrOiAnJwogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIGplbmtpbnNOYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWlSmVua2luc+WQjeensCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBqZW5raW5zVXJsOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWlSmVua2luc+WfuuehgOWcsOWdgCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBqZW5raW5zVXNlcm5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaVKZW5raW5z6K6k6K+B55m75b2V55So5oi35ZCNJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGplbmtpbnNQYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpUplbmtpbnPorqTor4HnmbvlvZXlr4bnoIEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgZmlsZUxpc3Q6IFtdLAogICAgICAvLyDnjrDmnInlm77niYfliJfooagKICAgICAgaW1hZ2VVcmw6ICcnLAogICAgICAvLyDlm77niYfot6/lvoQKICAgICAgaW1hZ2VWaXNpYmxlOiBmYWxzZSwKICAgICAgZGlzYWJsZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLnRpdGxlID09PSAnY3JlYXRlJykgewogICAgICB0aGlzLnNob3dUaXRsZSA9ICfliJvlu7pKZW5raW5z5L+h5oGvJzsKICAgIH0gZWxzZSBpZiAodGhpcy50aXRsZSA9PT0gJ2RldGFpbCcpIHsKICAgICAgdGhpcy5zaG93VGl0bGUgPSAnSmVua2luc+ivpuaDheivpuaDhSc7CiAgICAgIHRoaXMuaW5pdEplbmtpbnNJbmZvRGV0YWlsKCk7CiAgICB9IGVsc2UgaWYgKHRoaXMudGl0bGUgPT09ICdlZGl0JykgewogICAgICB0aGlzLnNob3dUaXRsZSA9ICfnvJbovpFKZW5raW5z5L+h5oGvJzsKICAgICAgdGhpcy5pbml0SmVua2luc0luZm9EZXRhaWwoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWIm+W7uumhueebrgogICAgc3VibWl0SmVua2luczogZnVuY3Rpb24gc3VibWl0SmVua2lucyhmb3JtTmFtZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpZiAoX3RoaXMudGl0bGUgPT09ICdjcmVhdGUnKSB7CiAgICAgICAgICAgIGNyZWF0ZUplbmtpbnNJbmZvKF90aGlzLmplbmtpbnNGb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgICAgLy8gY29kZe+8micwMDAwMCfooajnpLrmiJDlip8KICAgICAgICAgICAgICBpZiAocmVzcC5jb2RlID09PSAnMDAwMDAnKSB7CiAgICAgICAgICAgICAgICAvLyDliJvlu7rmiJDlip/vvIzlhbPpl63lvLnnqpcKICAgICAgICAgICAgICAgIF90aGlzLmNsb3NlRGlhbG9nKCk7CgogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2VzcygnSmVua2luc+S/oeaBr+WIm+W7uuaIkOWKn++8gScpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNwLm1zZyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMudGl0bGUgPT09ICdlZGl0JykgewogICAgICAgICAgICB1cGRhdGVKZW5raW5zSW5mbyhfdGhpcy5waWQsIF90aGlzLmplbmtpbnNGb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gJzAwMDAwJykgewogICAgICAgICAgICAgICAgX3RoaXMuY2xvc2VEaWFsb2coKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCdKZW5raW5z5L+h5oGv57yW6L6R5oiQ5Yqf77yBJyk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlc3AuZXJyb3IuZGF0YSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5qC55o2u6aG555uuSWTmn6Xor6Lpobnnm67or6bmg4UKICAgIGluaXRKZW5raW5zSW5mb0RldGFpbDogZnVuY3Rpb24gaW5pdEplbmtpbnNJbmZvRGV0YWlsKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3A7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0SmVua2luc0luZm9CeUlkKF90aGlzMi5waWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzcC5jb2RlID09PSAnMDAwMDAnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5qZW5raW5zRm9ybSA9IHJlc3AuZGF0YTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKCdKZW5raW5z5L+h5oGv6K+m5oOF5oiQ5Yqf77yBJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoJ0plbmtpbnPkv6Hmga/or6bmg4XlpLHotKXvvIEnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWFs+mXree7hOS7tgogICAgY2xvc2VEaWFsb2c6IGZ1bmN0aW9uIGNsb3NlRGlhbG9nKCkgewogICAgICB0aGlzLiRlbWl0KCdjYW5jZWwnLCB7fSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AAEA;EACAA,qBADA;EAEAC,cAFA;EAGAC;IACAC;MACAC,YADA;MAEAC;IAFA,CADA;IAKAC;MACAF,YADA;MAEAC;IAFA;EALA,CAHA;EAaAE,IAbA,kBAaA;IACA;MACAC,mBADA;MAEAC,aAFA;MAGAC;QACAC,eADA;QAEAC,mBAFA;QAGAC,mBAHA;QAIAC,cAJA;QAKAC;MALA,CAHA;MAUAC;QACAL,cACA;UAAAM;UAAAC;UAAAC;QAAA,CADA,CADA;QAIAL,aACA;UAAAG;UAAAC;UAAAC;QAAA,CADA,CAJA;QAOAP,kBACA;UAAAK;UAAAC;UAAAC;QAAA,CADA,CAPA;QAUAN,kBACA;UAAAI;UAAAC;UAAAC;QAAA,CADA;MAVA,CAVA;MAwBAC,YAxBA;MAwBA;MACAC,YAzBA;MAyBA;MACAC,mBA1BA;MA2BAC;IA3BA;EA6BA,CA3CA;EA4CAC,OA5CA,qBA4CA;IACA;MACA;IACA,CAFA,MAEA;MACA;MACA;IACA,CAHA,MAGA;MACA;MACA;IACA;EACA,CAtDA;EAuDAC;IACA;IACAC,aAFA,yBAEAC,QAFA,EAEA;MAAA;;MACA;QACA;UACA;YACAC;cACA;cACA;gBACA;gBACA;;gBACA;cACA,CAJA,MAIA;gBACA;cACA;YACA,CATA;UAUA,CAXA,MAWA;YACAC;cACA;gBACA;;gBACA;cACA,CAHA,MAGA;gBACA;cACA;YACA,CAPA;UAQA;QACA,CAtBA,MAsBA;UACA;QACA;MACA,CA1BA;IA2BA,CA9BA;IA+BA;IACAC,qBAhCA,mCAgCA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAC,8BADA;;cAAA;gBACAC,IADA;;gBAEA;kBACA;;kBACA;gBACA,CAHA,MAGA;kBACA;gBACA;;cAPA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAQA,CAxCA;IAyCA;IACAC,WA1CA,yBA0CA;MACA;IACA;EA5CA;AAvDA","names":["name","components","props","title","type","default","pid","data","dialogVisible","showTitle","jenkinsForm","jenkinsName","jenkinsUsername","jenkinsPassword","jenkinsUrl","remark","rules","required","message","trigger","fileList","imageUrl","imageVisible","disabled","mounted","methods","submitJenkins","formName","createJenkinsInfo","updateJenkinsInfo","initJenkinsInfoDetail","getJenkinsInfoById","resp","closeDialog"],"sourceRoot":"src/components/Jenkins","sources":["jenkinsDialog.vue"],"sourcesContent":["<template>\n  <el-dialog\n    :title=\"showTitle\"\n    :visible.sync=\"dialogVisible\"\n    width=\"800px\"\n    :before-close=\"closeDialog\"\n  >\n    <el-form\n      v-if=\"title == 'detail'\"\n      :model=\"jenkinsForm\"\n      label-width=\"auto\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item label=\"Jenkins名称:\" prop=\"jenkinsName\">{{ jenkinsForm.jenkinsName }}</el-form-item>\n      <el-form-item label=\"Jenkins基础地址:\" prop=\"jenkinsUrl\">{{ jenkinsForm.jenkinsUrl }}</el-form-item>\n      <el-form-item label=\"Jenkins认证登录用户名:\" prop=\"jenkinsUsername\">{{ jenkinsForm.jenkinsUsername }}</el-form-item>\n      <el-form-item label=\"Jenkins认证登录密码:\" prop=\"jenkinsPassword\">{{ jenkinsForm.jenkinsPassword }}</el-form-item>\n      <el-form-item type=\"textarea\" label=\"备注:\">{{ jenkinsForm.remark }}</el-form-item>\n      <el-form-item style=\"text-align: right\">\n        <el-button @click=\"closeDialog\">返回</el-button>\n      </el-form-item>\n    </el-form>\n    <el-form\n      v-if=\"title != 'detail'\"\n      ref=\"ruleForm\"\n      :model=\"jenkinsForm\"\n      :rules=\"rules\"\n      label-width=\"auto\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item label=\"Jenkins名称\" prop=\"jenkinsName\">\n        <el-input v-model=\"jenkinsForm.jenkinsName\" />\n      </el-form-item>\n      <el-form-item label=\"Jenkins基础地址\" prop=\"jenkinsUrl\">\n        <el-input v-model=\"jenkinsForm.jenkinsUrl\" />\n      </el-form-item>\n      <el-form-item label=\"Jenkins认证登录用户名\" prop=\"jenkinsUsername\">\n        <el-input v-model=\"jenkinsForm.jenkinsUsername\" />\n      </el-form-item>\n      <el-form-item label=\"Jenkins认证登录密码\" prop=\"jenkinsPassword\">\n        <el-input v-model=\"jenkinsForm.jenkinsPassword\" />\n      </el-form-item>\n      <el-form-item label=\"备注\" prop=\"remark\">\n        <el-input v-model=\"jenkinsForm.remark\" type=\"textarea\" />\n      </el-form-item>\n      <el-form-item style=\"text-align: right\">\n        <el-button @click=\"closeDialog\">取消</el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"submitJenkins('ruleForm')\"\n        >确定</el-button>\n      </el-form-item>\n    </el-form>\n  </el-dialog>\n</template>\n\n<script>\nimport { getJenkinsInfoById, createJenkinsInfo, updateJenkinsInfo } from '@/api/jenkins'\n\nexport default ({\n  name: 'PorjectDialog',\n  components: {},\n  props: {\n    title: {\n      type: String,\n      default: null\n    },\n    pid: {\n      type: Number,\n      default: 1\n    }\n  },\n  data() {\n    return {\n      dialogVisible: true,\n      showTitle: '',\n      jenkinsForm: {\n        jenkinsName: '',\n        jenkinsUsername: '',\n        jenkinsPassword: '',\n        jenkinsUrl: '',\n        remark: ''\n      },\n      rules: {\n        jenkinsName: [\n          { required: true, message: '请输入Jenkins名称', trigger: 'blur' }\n        ],\n        jenkinsUrl: [\n          { required: true, message: '请输入Jenkins基础地址', trigger: 'blur' }\n        ],\n        jenkinsUsername: [\n          { required: true, message: '请输入Jenkins认证登录用户名', trigger: 'blur' }\n        ],\n        jenkinsPassword: [\n          { required: true, message: '请输入Jenkins认证登录密码', trigger: 'blur' }\n        ]\n      },\n      fileList: [], // 现有图片列表\n      imageUrl: '', // 图片路径\n      imageVisible: false,\n      disabled: false\n    }\n  },\n  mounted() {\n    if (this.title === 'create') {\n      this.showTitle = '创建Jenkins信息'\n    } else if (this.title === 'detail') {\n      this.showTitle = 'Jenkins详情详情'\n      this.initJenkinsInfoDetail()\n    } else if (this.title === 'edit') {\n      this.showTitle = '编辑Jenkins信息'\n      this.initJenkinsInfoDetail()\n    }\n  },\n  methods: {\n    // 创建项目\n    submitJenkins(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          if (this.title === 'create') {\n            createJenkinsInfo(this.jenkinsForm).then((resp) => {\n              // code：'00000'表示成功\n              if (resp.code === '00000') {\n                // 创建成功，关闭弹窗\n                this.closeDialog()\n                this.$message.success('Jenkins信息创建成功！')\n              } else {\n                this.$message.error(resp.msg)\n              }\n            })\n          } else if (this.title === 'edit') {\n            updateJenkinsInfo(this.pid, this.jenkinsForm).then((resp) => {\n              if (resp.code === '00000') {\n                this.closeDialog()\n                this.$message.success('Jenkins信息编辑成功！')\n              } else {\n                this.$message.error(resp.error.data)\n              }\n            })\n          }\n        } else {\n          return false\n        }\n      })\n    },\n    // 根据项目Id查询项目详情\n    async initJenkinsInfoDetail() {\n      const resp = await getJenkinsInfoById(this.pid)\n      if (resp.code === '00000') {\n        this.jenkinsForm = resp.data\n        this.$message.success('Jenkins信息详情成功！')\n      } else {\n        this.$message.error('Jenkins信息详情失败！')\n      }\n    },\n    // 关闭组件\n    closeDialog() {\n      this.$emit('cancel', {})\n    }\n  }\n})\n</script>\n"]}]}