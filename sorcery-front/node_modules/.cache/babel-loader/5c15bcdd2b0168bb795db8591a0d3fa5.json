{"remainingRequest":"/Users/lvjing/sorcery/sorcery-front/node_modules/babel-loader/lib/index.js!/Users/lvjing/sorcery/sorcery-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lvjing/sorcery/sorcery-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/sorcery/sorcery-front/src/components/Jenkins/jenkinsTaskDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvjing/sorcery/sorcery-front/src/components/Jenkins/jenkinsTaskDialog.vue","mtime":1684391585621},{"path":"/Users/lvjing/sorcery/sorcery-front/babel.config.js","mtime":1658125707026},{"path":"/Users/lvjing/sorcery/sorcery-front/node_modules/cache-loader/dist/cjs.js","mtime":1658126181624},{"path":"/Users/lvjing/sorcery/sorcery-front/node_modules/babel-loader/lib/index.js","mtime":1658126183216},{"path":"/Users/lvjing/sorcery/sorcery-front/node_modules/cache-loader/dist/cjs.js","mtime":1658126181624},{"path":"/Users/lvjing/sorcery/sorcery-front/node_modules/vue-loader/lib/index.js","mtime":1658126185454}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2x2amluZy9zb3JjZXJ5L3NvcmNlcnktZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbHZqaW5nL3NvcmNlcnkvc29yY2VyeS1mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0SmVua2luc0luZm9BbGwsIGdldEplbmtpbnNUYXNrSW5mb0J5SWQsIGNyZWF0ZUplbmtpbnNJbmZvLCB1cGRhdGVKZW5raW5zSW5mbyB9IGZyb20gJ0AvYXBpL2plbmtpbnMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1BvcmplY3REaWFsb2cnLAogIGNvbXBvbmVudHM6IHt9LAogIHByb3BzOiB7CiAgICB0aXRsZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBwaWQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nVmlzaWJsZTogdHJ1ZSwKICAgICAgc2hvd1RpdGxlOiAnJywKICAgICAgamVua2luc0luZm9WYWx1ZTogJycsCiAgICAgIGplbmtpbnNJbmZvTGFiZWw6ICcnLAogICAgICBqZW5raW5zSW5mb09wdGlvbjogW10sCiAgICAgIGplbmtpbnNUYXNrRm9ybTogewogICAgICAgIGplbmtpbnNJZDogJycsCiAgICAgICAgamVua2luc0pvYk5hbWU6ICcnLAogICAgICAgIGplbmtpbnNUYXNrTmFtZTogJycsCiAgICAgICAgY29tbWFuZDogJycsCiAgICAgICAgcmVtYXJrOiAnJwogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIGplbmtpbnNJZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqUplbmtpbnPku7vliqEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgamVua2luc1Rhc2tOYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWlSmVua2luc+WQjeensCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBqZW5raW5zSm9iTmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpUplbmtpbnPln7rnoYDlnLDlnYAnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgY29tbWFuZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpUplbmtpbnPorqTor4HnmbvlvZXnlKjmiLflkI0nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgZmlsZUxpc3Q6IFtdLAogICAgICAvLyDnjrDmnInlm77niYfliJfooagKICAgICAgaW1hZ2VVcmw6ICcnLAogICAgICAvLyDlm77niYfot6/lvoQKICAgICAgaW1hZ2VWaXNpYmxlOiBmYWxzZSwKICAgICAgZGlzYWJsZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLnRpdGxlID09PSAnY3JlYXRlJykgewogICAgICB0aGlzLnNob3dUaXRsZSA9ICfliJvlu7pKZW5raW5z5Lu75Yqh5L+h5oGvJzsKICAgICAgdGhpcy5pbml0SmVua2luc0luZm9BbGxMaXN0KCk7CiAgICB9IGVsc2UgaWYgKHRoaXMudGl0bGUgPT09ICdkZXRhaWwnKSB7CiAgICAgIHRoaXMuc2hvd1RpdGxlID0gJ0plbmtpbnPku7vliqHor6bmg4UnOwogICAgICB0aGlzLmluaXRKZW5raW5zVGFza0luZm9EZXRhaWwoKTsKICAgIH0gZWxzZSBpZiAodGhpcy50aXRsZSA9PT0gJ2VkaXQnKSB7CiAgICAgIHRoaXMuc2hvd1RpdGxlID0gJ+e8lui+kUplbmtpbnPku7vliqHkv6Hmga8nOwogICAgICB0aGlzLmluaXRKZW5raW5zVGFza0luZm9EZXRhaWwoKTsKICAgICAgdGhpcy5pbml0SmVua2luc0luZm9BbGxMaXN0KCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0SmVua2luc0luZm9BbGxMaXN0OiBmdW5jdGlvbiBpbml0SmVua2luc0luZm9BbGxMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcCwgaTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRKZW5raW5zSW5mb0FsbCgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzcC5jb2RlID09PSAnMDAwMDAnKSB7CiAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByZXNwLmRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5qZW5raW5zSW5mb09wdGlvbi5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXNwLmRhdGFbaV0uaWQsCiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogcmVzcC5kYXRhW2ldLmplbmtpbnNOYW1lCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0gLy8gdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmn6Xor6LmiJDlip/vvIEiKQoKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCfmn6Xor6LlpLHotKXvvIEnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOS/ruaUuemAieS4remhueebrgogICAgY2hhbmdlSmVua2luczogZnVuY3Rpb24gY2hhbmdlSmVua2lucyh2YWx1ZSkgewogICAgICB0aGlzLmplbmtpbnNJbmZvVmFsdWUgPSB2YWx1ZTsKICAgICAgdGhpcy5qZW5raW5zSW5mb0xhYmVsID0gdGhpcy5qZW5raW5zSW5mb09wdGlvbi5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWUgPT09IHZhbHVlOwogICAgICB9KS5sYWJlbDsKICAgICAgdGhpcy5qZW5raW5zVGFza0Zvcm0uamVua2luc0lkID0gdmFsdWU7CiAgICB9LAogICAgLy8g5Yib5bu66aG555uuCiAgICBzdWJtaXRKZW5raW5zOiBmdW5jdGlvbiBzdWJtaXRKZW5raW5zKGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpZiAoX3RoaXMyLnRpdGxlID09PSAnY3JlYXRlJykgewogICAgICAgICAgICBjcmVhdGVKZW5raW5zSW5mbyhfdGhpczIuamVua2luc0Zvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgICAgICAvLyBjb2Rl77yaJzAwMDAwJ+ihqOekuuaIkOWKnwogICAgICAgICAgICAgIGlmIChyZXNwLmNvZGUgPT09ICcwMDAwMCcpIHsKICAgICAgICAgICAgICAgIC8vIOWIm+W7uuaIkOWKn++8jOWFs+mXreW8ueeqlwogICAgICAgICAgICAgICAgX3RoaXMyLmNsb3NlRGlhbG9nKCk7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoJ0plbmtpbnPkv6Hmga/liJvlu7rmiJDlip8hJyk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcihyZXNwLm1zZyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLnRpdGxlID09PSAnZWRpdCcpIHsKICAgICAgICAgICAgdXBkYXRlSmVua2luc0luZm8oX3RoaXMyLnBpZCwgX3RoaXMyLmplbmtpbnNGb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gJzAwMDAwJykgewogICAgICAgICAgICAgICAgX3RoaXMyLmNsb3NlRGlhbG9nKCk7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoJ0plbmtpbnPkv6Hmga/nvJbovpHmiJDlip8hJyk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcihyZXNwLmVycm9yLmRhdGEpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOagueaNrumhueebrklk5p+l6K+i6aG555uu6K+m5oOFCiAgICBpbml0SmVua2luc1Rhc2tJbmZvRGV0YWlsOiBmdW5jdGlvbiBpbml0SmVua2luc1Rhc2tJbmZvRGV0YWlsKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXNwOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0SmVua2luc1Rhc2tJbmZvQnlJZChfdGhpczMucGlkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXNwLmNvZGUgPT09ICcwMDAwMCcpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmplbmtpbnNUYXNrRm9ybSA9IHJlc3AuZGF0YTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5zdWNjZXNzKCdKZW5raW5z5Lu75Yqh5L+h5oGv6K+m5oOF5oiQ5YqfIScpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKCdKZW5raW5z5Lu75Yqh5L+h5oGv6K+m5oOF5aSx6LSlIScpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDlhbPpl63nu4Tku7YKICAgIGNsb3NlRGlhbG9nOiBmdW5jdGlvbiBjbG9zZURpYWxvZygpIHsKICAgICAgdGhpcy4kZW1pdCgnY2FuY2VsJywge30pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AAEA;EACAA,qBADA;EAEAC,cAFA;EAGAC;IACAC;MACAC,YADA;MAEAC;IAFA,CADA;IAKAC;MACAF,YADA;MAEAC;IAFA;EALA,CAHA;EAaAE,IAbA,kBAaA;IACA;MACAC,mBADA;MAEAC,aAFA;MAGAC,oBAHA;MAIAC,oBAJA;MAKAC,qBALA;MAMAC;QACAC,aADA;QAEAC,kBAFA;QAGAC,mBAHA;QAIAC,WAJA;QAKAC;MALA,CANA;MAaAC;QACAL,YACA;UAAAM;UAAAC;UAAAC;QAAA,CADA,CADA;QAIAN,kBACA;UAAAI;UAAAC;UAAAC;QAAA,CADA,CAJA;QAOAP,iBACA;UAAAK;UAAAC;UAAAC;QAAA,CADA,CAPA;QAUAL,UACA;UAAAG;UAAAC;UAAAC;QAAA,CADA;MAVA,CAbA;MA2BAC,YA3BA;MA2BA;MACAC,YA5BA;MA4BA;MACAC,mBA7BA;MA8BAC;IA9BA;EAgCA,CA9CA;EA+CAC,OA/CA,qBA+CA;IACA;MACA;MACA;IACA,CAHA,MAGA;MACA;MACA;IACA,CAHA,MAGA;MACA;MACA;MACA;IACA;EACA,CA3DA;EA4DAC;IACAC,sBADA,oCACA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAC,mBADA;;cAAA;gBACAC,IADA;;gBAEA;kBACA;oBACA;sBACAC,sBADA;sBAEAC;oBAFA;kBAIA,CANA,CAOA;;gBACA,CARA,MAQA;kBACA;gBACA;;cAZA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAaA,CAdA;IAeA;IACAC,aAhBA,yBAgBAF,KAhBA,EAgBA;MACA;MACA,oDACA;QAAA;MAAA,CADA,EAEAC,KAFA;MAGA;IACA,CAtBA;IAuBA;IACAE,aAxBA,yBAwBAC,QAxBA,EAwBA;MAAA;;MACA;QACA;UACA;YACAC;cACA;cACA;gBACA;gBACA;;gBACA;cACA,CAJA,MAIA;gBACA;cACA;YACA,CATA;UAUA,CAXA,MAWA;YACAC;cACA;gBACA;;gBACA;cACA,CAHA,MAGA;gBACA;cACA;YACA,CAPA;UAQA;QACA,CAtBA,MAsBA;UACA;QACA;MACA,CA1BA;IA2BA,CApDA;IAqDA;IACAC,yBAtDA,uCAsDA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAC,kCADA;;cAAA;gBACAT,IADA;;gBAEA;kBACA;;kBACA;gBACA,CAHA,MAGA;kBACA;gBACA;;cAPA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAQA,CA9DA;IA+DA;IACAU,WAhEA,yBAgEA;MACA;IACA;EAlEA;AA5DA","names":["name","components","props","title","type","default","pid","data","dialogVisible","showTitle","jenkinsInfoValue","jenkinsInfoLabel","jenkinsInfoOption","jenkinsTaskForm","jenkinsId","jenkinsJobName","jenkinsTaskName","command","remark","rules","required","message","trigger","fileList","imageUrl","imageVisible","disabled","mounted","methods","initJenkinsInfoAllList","getJenkinsInfoAll","resp","value","label","changeJenkins","submitJenkins","formName","createJenkinsInfo","updateJenkinsInfo","initJenkinsTaskInfoDetail","getJenkinsTaskInfoById","closeDialog"],"sourceRoot":"src/components/Jenkins","sources":["jenkinsTaskDialog.vue"],"sourcesContent":["<template>\n  <el-dialog\n    :title=\"showTitle\"\n    :visible.sync=\"dialogVisible\"\n    width=\"800px\"\n    :before-close=\"closeDialog\"\n  >\n    <el-form\n      v-if=\"title == 'detail'\"\n      :model=\"jenkinsTaskForm\"\n      label-width=\"auto\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item label=\"Jenkins名称:\" prop=\"jenkinsId\">{{ jenkinsTaskForm.jenkinsId }}</el-form-item>\n      <el-form-item label=\"Jenkins任务名称:\" prop=\"jenkinsTaskName\">{{ jenkinsTaskForm.jenkinsTaskName }}</el-form-item>\n      <el-form-item label=\"Jenkins Job名称:\" prop=\"jenkinsJobName\">{{ jenkinsTaskForm.jenkinsJobName }}</el-form-item>\n      <el-form-item label=\"command:\" prop=\"command\">{{ jenkinsTaskForm.command }}</el-form-item>\n      <el-form-item type=\"textarea\" label=\"备注:\">{{ jenkinsTaskForm.remark }}</el-form-item>\n      <el-form-item style=\"text-align: right\">\n        <el-button @click=\"closeDialog\">返回</el-button>\n      </el-form-item>\n    </el-form>\n    <el-form\n      v-if=\"title != 'detail'\"\n      ref=\"ruleForm\"\n      :model=\"jenkinsTaskForm\"\n      :rules=\"rules\"\n      label-width=\"auto\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item label=\"Jenkins名称\" prop=\"jenkinsId\">\n        <el-select\n          v-model=\"jenkinsTaskForm.jenkinsId\"\n          placeholder=\"请选择Jenkins\"\n          label-width=\"auto\"\n          @change=\"changeJenkins\"\n        >\n          <el-option\n            v-for=\"item in jenkinsInfoOption\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          />\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"Jenkins任务名称:\" prop=\"jenkinsTaskName\">\n        <el-input v-model=\"jenkinsTaskForm.jenkinsTaskName\" />\n      </el-form-item>\n      <el-form-item label=\"Jenkins任务名称:\" prop=\"jenkinsTaskName\">\n        <el-input v-model=\"jenkinsTaskForm.jenkinsTaskName\" />\n      </el-form-item>\n      <el-form-item label=\"Jenkins Job名称:\" prop=\"jenkinsJobName\">\n        <el-input v-model=\"jenkinsTaskForm.jenkinsJobName\" />\n      </el-form-item>\n      <el-form-item label=\"备注\" prop=\"remark\">\n        <el-input v-model=\"jenkinsTaskForm.remark\" type=\"textarea\" />\n      </el-form-item>\n      <el-form-item style=\"text-align: right\">\n        <el-button @click=\"closeDialog\">取消</el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"submitJenkins('ruleForm')\"\n        >确定</el-button>\n      </el-form-item>\n    </el-form>\n  </el-dialog>\n</template>\n\n<script>\nimport { getJenkinsInfoAll, getJenkinsTaskInfoById, createJenkinsInfo, updateJenkinsInfo } from '@/api/jenkins'\n\nexport default ({\n  name: 'PorjectDialog',\n  components: {},\n  props: {\n    title: {\n      type: String,\n      default: null\n    },\n    pid: {\n      type: Number,\n      default: 1\n    }\n  },\n  data() {\n    return {\n      dialogVisible: true,\n      showTitle: '',\n      jenkinsInfoValue: '',\n      jenkinsInfoLabel: '',\n      jenkinsInfoOption: [],\n      jenkinsTaskForm: {\n        jenkinsId: '',\n        jenkinsJobName: '',\n        jenkinsTaskName: '',\n        command: '',\n        remark: ''\n      },\n      rules: {\n        jenkinsId: [\n          { required: true, message: '请选择Jenkins任务', trigger: 'blur' }\n        ],\n        jenkinsTaskName: [\n          { required: true, message: '请输入Jenkins名称', trigger: 'blur' }\n        ],\n        jenkinsJobName: [\n          { required: true, message: '请输入Jenkins基础地址', trigger: 'blur' }\n        ],\n        command: [\n          { required: true, message: '请输入Jenkins认证登录用户名', trigger: 'blur' }\n        ]\n      },\n      fileList: [], // 现有图片列表\n      imageUrl: '', // 图片路径\n      imageVisible: false,\n      disabled: false\n    }\n  },\n  mounted() {\n    if (this.title === 'create') {\n      this.showTitle = '创建Jenkins任务信息'\n      this.initJenkinsInfoAllList()\n    } else if (this.title === 'detail') {\n      this.showTitle = 'Jenkins任务详情'\n      this.initJenkinsTaskInfoDetail()\n    } else if (this.title === 'edit') {\n      this.showTitle = '编辑Jenkins任务信息'\n      this.initJenkinsTaskInfoDetail()\n      this.initJenkinsInfoAllList()\n    }\n  },\n  methods: {\n    async initJenkinsInfoAllList() {\n      const resp = await getJenkinsInfoAll()\n      if (resp.code === '00000') {\n        for (let i = 0; i < resp.data.length; i++) {\n          this.jenkinsInfoOption.push({\n            value: resp.data[i].id,\n            label: resp.data[i].jenkinsName\n          })\n        }\n        // this.$message.success(\"查询成功！\")\n      } else {\n        this.$message.error('查询失败！')\n      }\n    },\n    // 修改选中项目\n    changeJenkins(value) {\n      this.jenkinsInfoValue = value\n      this.jenkinsInfoLabel = this.jenkinsInfoOption.find(\n        (item) => item.value === value\n      ).label\n      this.jenkinsTaskForm.jenkinsId = value\n    },\n    // 创建项目\n    submitJenkins(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          if (this.title === 'create') {\n            createJenkinsInfo(this.jenkinsForm).then((resp) => {\n              // code：'00000'表示成功\n              if (resp.code === '00000') {\n                // 创建成功，关闭弹窗\n                this.closeDialog()\n                this.$message.success('Jenkins信息创建成功!')\n              } else {\n                this.$message.error(resp.msg)\n              }\n            })\n          } else if (this.title === 'edit') {\n            updateJenkinsInfo(this.pid, this.jenkinsForm).then((resp) => {\n              if (resp.code === '00000') {\n                this.closeDialog()\n                this.$message.success('Jenkins信息编辑成功!')\n              } else {\n                this.$message.error(resp.error.data)\n              }\n            })\n          }\n        } else {\n          return false\n        }\n      })\n    },\n    // 根据项目Id查询项目详情\n    async initJenkinsTaskInfoDetail() {\n      const resp = await getJenkinsTaskInfoById(this.pid)\n      if (resp.code === '00000') {\n        this.jenkinsTaskForm = resp.data\n        this.$message.success('Jenkins任务信息详情成功!')\n      } else {\n        this.$message.error('Jenkins任务信息详情失败!')\n      }\n    },\n    // 关闭组件\n    closeDialog() {\n      this.$emit('cancel', {})\n    }\n  }\n})\n</script>\n"]}]}