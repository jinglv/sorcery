{"remainingRequest":"/Users/lvjing/sorcery/sorcery-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/sorcery/sorcery-front/src/views/apis/components/moduleDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvjing/sorcery/sorcery-front/src/views/apis/components/moduleDialog.vue","mtime":1710315861154},{"path":"/Users/lvjing/sorcery/sorcery-front/node_modules/cache-loader/dist/cjs.js","mtime":1658126181624},{"path":"/Users/lvjing/sorcery/sorcery-front/node_modules/babel-loader/lib/index.js","mtime":1658126183216},{"path":"/Users/lvjing/sorcery/sorcery-front/node_modules/cache-loader/dist/cjs.js","mtime":1658126181624},{"path":"/Users/lvjing/sorcery/sorcery-front/node_modules/vue-loader/lib/index.js","mtime":1658126185454}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNyZWF0ZU1vZHVsZSB9IGZyb20gJ0AvYXBpL21vZHVsZXMnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01vZHVsZURpYWxvZycsCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IHsKICAgIHBpZDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0sCiAgICBwbGFiZWw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgcm9vdElkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBwYXJlbnRPYmo6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd1RpdGxlOiAnJywKICAgICAgdXBkYXRlVVJMOiAnJywKICAgICAgZGlhbG9nVmlzaWJsZTogdHJ1ZSwKICAgICAgbW9kdWxlRm9ybTogewogICAgICAgIG1vZHVsZU5hbWU6ICcnLAogICAgICAgIHByb2plY3RJZDogMCwKICAgICAgICBtb2R1bGVQYXJlbnRJZDogMAogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIG1vZHVsZU5hbWU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXmqKHlnZfnmoTlkI3np7AnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgZmlsZUxpc3Q6IFtdLAogICAgICBpbWFnZVVybDogJycsCiAgICAgIGltYWdlVmlzaWJsZTogZmFsc2UsCiAgICAgIGRpc2FibGVkOiBmYWxzZQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMubW9kdWxlRm9ybS5wcm9qZWN0SWQgPSB0aGlzLnBpZAogICAgaWYgKHRoaXMucm9vdElkID09PSB0cnVlKSB7CiAgICAgIHRoaXMuc2hvd1RpdGxlID0gJ+WIm+W7uuagueiKgueCuScKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuc2hvd1RpdGxlID0gJ+WIm+W7uuWtkOiKgueCuScKICAgICAgdGhpcy5tb2R1bGVGb3JtLm1vZHVsZVBhcmVudElkID0gdGhpcy5wYXJlbnRPYmouaWQKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNsb3NlRGlhbG9nKCkgewogICAgICBjb25zb2xlLmxvZygnY2xvc2VEaWFsb2cnKQogICAgICB0aGlzLiRlbWl0KCdjYW5jZWwnLCB7fSkKICAgIH0sCiAgICAvLyDliJvlu7rmqKHlnZcKICAgIHN1Ym1pdEZvcm0oZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBjcmVhdGVNb2R1bGUodGhpcy5tb2R1bGVGb3JtKS50aGVuKChyZXNwKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygn5ZON5bqU57uT5p6c77yaJywgcmVzcCkKICAgICAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gJzAwMDAwJykgewogICAgICAgICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yib5bu65oiQ5Yqf77yBJykKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3AubXNnKQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["moduleDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"moduleDialog.vue","sourceRoot":"src/views/apis/components","sourcesContent":["<template>\n  <el-dialog\n    :title=\"showTitle\"\n    :visible.sync=\"dialogVisible\"\n    width=\"500px\"\n    :before-close=\"closeDialog\"\n  >\n    <el-form\n      ref=\"ruleForm\"\n      :model=\"moduleForm\"\n      :rules=\"rules\"\n      label-width=\"100px\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item label=\"项目名称\" prop=\"name\">\n        <el-input v-model=\"plabel\" disabled />\n      </el-form-item>\n      <el-form-item v-if=\"parentObj.label !== undefined\" label=\"父节点\">\n        <el-input v-model=\"parentObj.label\" disabled />\n      </el-form-item>\n      <el-form-item label=\"模块名称\" prop=\"moduleName\">\n        <el-input v-model=\"moduleForm.moduleName\" />\n      </el-form-item>\n      <el-form-item style=\"text-align: right\">\n        <el-button @click=\"closeDialog\">取消</el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"submitForm('ruleForm')\"\n        >确定</el-button>\n      </el-form-item>\n    </el-form>\n  </el-dialog>\n  <!-- <el-button type=\"danger\" @click=\"closeDialog\">关闭</el-button> -->\n</template>\n\n<script>\nimport { createModule } from '@/api/modules'\n\nexport default {\n  name: 'ModuleDialog',\n  components: {},\n  props: {\n    pid: {\n      type: Number,\n      default: 1\n    },\n    plabel: {\n      type: String,\n      default: null\n    },\n    rootId: {\n      type: Boolean,\n      default: true\n    },\n    parentObj: {\n      type: Object,\n      default: null\n    }\n  },\n  data() {\n    return {\n      showTitle: '',\n      updateURL: '',\n      dialogVisible: true,\n      moduleForm: {\n        moduleName: '',\n        projectId: 0,\n        moduleParentId: 0\n      },\n      rules: {\n        moduleName: [\n          { required: true, message: '请输入模块的名称', trigger: 'blur' }\n        ]\n      },\n      fileList: [],\n      imageUrl: '',\n      imageVisible: false,\n      disabled: false\n    }\n  },\n  mounted() {\n    this.moduleForm.projectId = this.pid\n    if (this.rootId === true) {\n      this.showTitle = '创建根节点'\n    } else {\n      this.showTitle = '创建子节点'\n      this.moduleForm.moduleParentId = this.parentObj.id\n    }\n  },\n  methods: {\n    closeDialog() {\n      console.log('closeDialog')\n      this.$emit('cancel', {})\n    },\n    // 创建模块\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          createModule(this.moduleForm).then((resp) => {\n            console.info('响应结果：', resp)\n            if (resp.code === '00000') {\n              this.closeDialog()\n              this.$message.success('创建成功！')\n            } else {\n              this.$message.error(resp.msg)\n            }\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n<style scoped>\n#image {\ntext-align: left;\n}\n</style>\n"]}]}